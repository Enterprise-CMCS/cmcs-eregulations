<h3>By {{ title }}</h3>
<ul>
    <li>
        {% with choices.0 as all_choice %}
        <form method="GET" action="">
            {% for k, v in all_choice.query_parts %}
                <input type="hidden" name="{{ k }}" value="{{ v }}" />
            {% endfor %}

            <input type="text"
                   value="{{ spec.value|default_if_none:'' }}"
                   name="{{ spec.parameter_name }}"/>
            
            <input type="submit" value="Filter" />
            {% if not all_choice.selected %}
                <a href="{{ all_choice.query_string }}">âœ– Clear filter</a>
            {% endif %}
        </form>
        {% endwith %}
    </li>
</ul>