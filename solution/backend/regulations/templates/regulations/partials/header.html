<header id="header" class="sticky">
    <header-component home-url="{% url 'homepage' %}">
        <template #jump-to>
            <jump-to
                api-url="{{ API_BASE }}"
                home-url="{% url 'homepage' %}"
                {% if title %}title="{{ title }}"{% endif %}
                {% if part %}part="{{ part }}"{% endif %}
            ></jump-to>
        </template>
        <template #links>
            <header-links
                statutes-url="{% url 'statutes' %}"
                subjects-url="{% url 'subjects' %}"
            ></header-links>
        </template>
        <template #search>
            <header-search
                search-url="{% url 'search' %}"
            ></header-search>
        </template>
        <template #sign-in>
            {% if user.is_authenticated %}
                <user-icon>
                    <template #username>
                        {{ user.username }}
                    </template>
                    <template #sign-out-link>
                        <form
                            id="oidc_logout"
                            method="post"
                            {% if request.session.oidc_id_token %}
                                action="{% url 'oidc_logout' %}"
                            {% else %}
                                action="{% url 'logout' %}?next={{ request.path }}"
                            {% endif %}
                        >
                            {% csrf_token %}
                            <input id="logout" type="submit" value="Log Out" />
                        </form>
                    </template>
                </user-icon>
            {% else %}
                <sign-in-link
                    custom-login-url="{% url 'custom_login' %}"
                    home-url="{% url 'homepage' %}"
                    is-authenticated="{{ user.is_authenticated }}"
                ></sign-in-link>
            {% endif %}
        </template>
    </header-component>
</header>
