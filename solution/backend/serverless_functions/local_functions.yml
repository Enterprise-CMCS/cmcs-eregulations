reg_site:
  environment:
    STATIC_URL: ${self:custom.settings.static_url}
    WORKING_DIR: /var/task
  handler: wsgi_handler.handler
  layers:
    - ${cf:cmcs-eregs-static-assets-${self:custom.settings.stage_id}.PythonRequirementsLambdaLayerQualifiedArn}
  events:
    - http: ANY /
    - http: ANY {proxy+}
  timeout: 10
test_function:
  handler: testfunc.handler
  layers:
    - ${cf:cmcs-eregs-static-assets-${self:custom.settings.stage_id}.PythonRequirementsLambdaLayerQualifiedArn}
# reg_core_migrate:
#   handler: migrate.handler
#   layers:
#     - ${cf:cmcs-eregs-static-assets-${self:custom.settings.stage_id}.PythonRequirementsLambdaLayerQualifiedArn}
#   timeout: 300
# create_su:
#   handler: createsu.handler
#   layers:
#     - ${cf:cmcs-eregs-static-assets-${self:custom.settings.stage_id}.PythonRequirementsLambdaLayerQualifiedArn}
#   timeout: 300
# populate_content:
#   environment:
#     SUPPLEMENTAL_CONTENT_PATH: /var/task/guidance
#   handler: populate_content.handler
#   layers:
#     - ${cf:cmcs-eregs-static-assets-${self:custom.settings.stage_id}.PythonRequirementsLambdaLayerQualifiedArn}
#   timeout: 300
# index_resources:
#   handler: index_resources.handler
#   timeout: 300
#   layers:
#     - ${cf:cmcs-eregs-static-assets-${self:custom.settings.stage_id}.PythonRequirementsLambdaLayerQualifiedArn}
