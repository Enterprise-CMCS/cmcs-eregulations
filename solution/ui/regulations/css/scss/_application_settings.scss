@import "./eregs_design_system.scss";

// NOTE: Our variables use _ between words. CMS Design System variables use - between words. Sass will treat this the same, but it will help at a glance to know where the variable is coming from.

// Django toolbar changes.  Needed for cypress testing

#djDebug #djShowToolBarButton {
    opacity: 1 !important;
    //display: none; // use when toolbar tab is causing issues with local cypress tests
}

// Vuetify overrides
// various !importants will be here and throughout our style sheets to combat Vuetify's aggressive styles
// Discussion about Vuetify's "styling eccentricities": https://stackoverflow.com/questions/52310060/how-to-override-vuetify-styles

input,
select {
    box-sizing: border-box !important;
}

label {
    margin-block-start: 0 !important;
}

h1,
h2,
h3,
h4,
h5 {
    font-weight: 700;
}

h2,
h5,
h6,
p {
    margin-block-start: 1em !important;
    margin-block-end: 1em !important;
}

h2 {
    margin: 0.83em 0 0.83em 0 !important;
}

h3 {
    font-size: 1.17rem;
}

h5 {
    margin: 1.67em 0 1.67em 0 !important;
}

ul,
ol {
    gap: 0;
}

.v-application {
    font-family:
        Open Sans,
        Helvetica,
        sans-serif;

    .v-application__wrap {
        min-height: unset;
    }

    ul,
    ol {
        padding-left: 24px;
    }
}

//--------------------------
// Colors
//--------------------------

// Base Colors
$teal: #026666;
$teal_blue: #245c68;
$darkest_blue: #102e43;
$dark_blue: #17415f;
$mid_dark_blue: #205982;
$mid_blue: #046791;
$mid_blue_2: #254c68;
$light_blue: #a3e8ff;
$light_blue_2: #ccf2ff;
$lighter_blue: #ddf5fd;
$lightest_blue: #eefafe;
$pale_blue: #c5def0;

$dark_gray: #212121;
$mid_gray: #5b616b;
$mid_gray_2: #c4c4c4;
$mid_gray_3: #767676;
$light_gray: #d6d7d9;
$lighter_gray: #f0f0f0;
$lightest_gray: #f3f3f3;

$magenta: #862074;

$white: #fff;

$green: #2a7a3b;

$title_color: #000;
$section_highlight_color: #eefafe;
$mark_highlight: #fce5af;

//// Usage ////
//// Call This Section in Your CSS, Not the Color Names ////

// Colors

$primary_color: $dark_blue;
$secondary_color: $teal;

// Links

$primary_link_color: $mid_blue;
$primary_link_hover: $dark_blue;

$secondary_link_color: $teal;
$secondary_link_hover: $mid_blue;

$teritary_link_color: $dark_blue;
$teritary_link_hover: $mid_blue;

$reverse_link_color: $light_blue;
$reverse_link_hover: $white;

$secondary_reverse_link_color: $white;
$secondary_reverse_link_hover: $light_blue;

$visited_link_color: $magenta;

$secondary_toc_link_color: $light_blue_2;

// Forms

$placeholder_color: $mid_gray_2;

// Backgrounds

$main_background_color: $white;
$secondary_background_color: $lightest_gray;
$teritary_background_color: $lightest_blue;
$reverse_background_color: $dark_blue;
$reverse_background_darker: $darkest_blue;
$reverse_background_lighter: $mid_dark_blue;
$table_header_background_color: $lightest_gray;

$hero_background_color: $teal;
$hero_link_color: $white;
$hero_link_hover: $light_blue;

$contact_link_color: $lightest_blue;

$jump_to_submit_disabled: $mid_gray_3;
$jump_to_submit_active: $mid_blue;
$jump_to_submit_active_focus: $dark_blue;

$policy_subject_selected_chip_background: $dark_blue;

$choice-checked-background-color: $mid_blue;
$choice-checked-border-color: $mid_blue;

// Borders

$border_color: $light_gray;
$secondary_border_color: $mid_blue;
$hover_border_color: $light_blue;
$table_border_color: $light_gray;
$formula_left_border: $light_blue;

// Text

$primary_text_color: $dark_gray;
$secondary_text_color: $mid_gray;
$reverse_text_color: $white;
$policy_subject_selected_chip_text: #fff;

// Indicators

$primary_indicator_background: $teal;
$primary_indicator_text: $white;

$secondary_indicator_background: $light_gray;
$secondary_indicator_text: $title_color;

$tertiary_indicator_background: $white;

// Formulae

@mixin formula-special-border {
    padding-left: 20px;
    border-left: 2px solid $formula_left_border;
}

// Buttons

$main_button_background: $light_blue;
$main_button_color: $dark_blue;
$main_button_hover_background: $white;

$copy_button_success: $green;

$policy_subject_close_background: $light_gray;
$policy_subject_close_background_hover: $mid_gray_3;

//--------------------------
// Fonts
//--------------------------

@font-face {
    font-family: "Open Sans";
    font-style: italic;
    font-weight: 700;
    src: url("#{$additional-font-path}/OpenSans-BoldItalic.ttf")
        format("truetype");
}

@font-face {
    font-family: "Merriweather";
    font-style: normal;
    font-weight: 400;
    src: url("#{$additional-font-path}/Merriweather-Regular.ttf")
        format("truetype");
}

@font-face {
    font-family: "Merriweather";
    font-style: bold;
    font-weight: 700;
    src: url("#{$additional-font-path}/Merriweather-Bold.ttf")
        format("truetype");
}

$primary_site_font: var(--font-family-body); // Open Sans
$secondary_site_font: "Merriweather", Georgia, serif;
$font_size_xxs: 10px;
$font_size_xs: 12px;
$font_size_xxl: 30px; // Aligns with the CMS Design System, but their variable is depreciated

$font_size_hero_h1: 26px;
$font_size_hero_h1_tablet: 20px;

// Uses CMS Design System + a larger screen size

$hero-tablet-max: 1080px;

$width-xxs: 320px;
$width-xs: 375px;
$width-sm: 544px;
$width-md: 768px;
$width-lg: 1024px;
$width-xl: 1280px;
$width-xxl: 1440px;
$width-3xl: 1920px; // The largest the site container will get

// Custom maxes
$iphoneSE-max: $width-xs - 1; // 374px
$mobile-max: $width-md - 1; // 767px
$tablet-max: $width-lg - 1; // 1023px

// 320px, or iPhone 5/iPhone SE (1st gen)
@mixin screen-xxs {
    @media (min-width: #{$width-xxs}) {
        @content;
    }
}

// 320px
@mixin screen-eds-xs {
    @media (min-width: #{$eds-width-xs}) {
        @content;
    }
}

// 375px, or iPhone X
@mixin screen-xs {
    @media (min-width: #{$width-xs}) {
        @content;
    }
}

// 544px
@mixin screen-sm {
    @media (min-width: #{$width-sm}) {
        @content;
    }
}

// 768px
@mixin screen-md {
    @media (min-width: #{$width-md}) {
        @content;
    }
}

// 780px
@mixin screen-eds-sm {
    @media (min-width: #{$eds-width-sm}) {
        @content;
    }
}

// 1024px
@mixin screen-lg {
    @media (min-width: #{$width-lg}) {
        @content;
    }
}

// 1024px
@mixin screen-eds-md {
    @media (min-width: #{$eds-width-md}) {
        @content;
    }
}

// 1200px
@mixin screen-eds-lg {
    @media (min-width: #{$eds-width-lg}) {
        @content;
    }
}

// 1280px
@mixin screen-xl {
    @media (min-width: #{$width-xl}) {
        @content;
    }
}

// 1440px - eRegs-specific breakpoint
@mixin screen-xxl {
    @media (min-width: #{$width-xxl}) {
        @content;
    }
}

// 1440px - eRegs-specific breakpoint
@mixin screen-3xl {
    @media (min-width: #{$width-3xl}) {
        @content;
    }
}

// For adjustments that don't fit into the usual breakpoints
@mixin custom-min($screen) {
    @media (min-width: $screen+"px") {
        @content;
    }
}

@mixin custom-max($screen) {
    @media (max-width: $screen+"px") {
        @content;
    }
}

@mixin custom-range($screen-start, $screen-end) {
    @media (min-width: $screen-start+"px") and (max-width: $screen-end+"px") {
        @content;
    }
}

//--------------------------
// Transitions
//--------------------------

@mixin transition {
    transition: all 0.1s ease-in;
}

// -------------------------
// Indicators
// -------------------------

.indicator {
    font-weight: 600;
    background: $primary_indicator_background;
    text-transform: uppercase;
    color: $primary_indicator_text;
    font-size: 11px;
    line-height: var(--font-line-height-base);
    padding: 2px 0;
    border-radius: var(--radius-default);
    margin-right: 7px !important;
    display: inline-block;
    width: 42px;
    text-align: center;
}

.secondary-indicator {
    background: $secondary_indicator_background;
    color: $secondary_indicator_text;
}

.tertiary-indicator {
    background: $tertiary_indicator_background;
    color: $mid_gray;
    border: 1px solid $mid_gray;
    box-sizing: border-box;
    padding: 1px 0;
}

// -------------------------
// Links
// -------------------------

@mixin shared-link-rules {
    width: 0.8em;
    height: 0.8em;
    padding-left: 1px;
    margin-left: 0.1em;
}

@mixin external-link {
    @include shared-link-rules;

    content: url(#{$eregs-image-path}/external-link.svg);
}

@mixin external-link-hover {
    @include external-link;
}

@mixin pdf-link {
    @include shared-link-rules;

    content: url(#{$eregs-image-path}/PDF-icon.svg);
    position: absolute;
    top: 2px;
    padding-left: 3px;
}

a {
    &:link.external::after {
        @include external-link;
    }

    &:hover.external::after {
        @include external-link-hover;
    }

    &:link.pdf {
        position: relative;

        &::after {
            @include pdf-link;
        }
    }
}

.smooth-scroll {
    scroll-behavior: smooth !important;
}

// -------------------------
// Buttons
// -------------------------

.main-button {
    background: $main_button_background;
    color: $main_button_color;
    border: none;
    @include transition;

    &:hover {
        background: $main_button_hover_background;
    }
}

// -------------------------
// Line clamps
// -------------------------

@mixin line-clamp {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    overflow: hidden;
    @content;
}

@for $i from 1 through 10 {
    .line-clamp-#{$i} {
        @include line-clamp {
            -webkit-line-clamp: #{$i};
        }
    }
}

// -------------------------
// General Settings
// -------------------------

// For margins and padding: From the CMS Design System, default to $spacer-* where * is a number between 1â€“7 (i.e. var(--spacer-2))

$header_height: 104px; // Update if header height changes
$header_height_mobile: 104px;

$view_compare_height: 54px;

a,
.v-application a {
    color: $primary_link_color;

    &:focus,
    &:hover {
        color: $primary_link_color;
        cursor: pointer;
        @include transition;
    }

    &.ds-c-skip-nav {
        transition: none;
    }
}

html,
body {
    scroll-behavior: smooth !important;

    :focus {
        outline: none;
        background-color: transparent;
    }

    :focus-visible {
        outline: 3px solid var(--color-focus-dark);
        outline-offset: 0px;
    }
}

select {
    cursor: pointer;

    &:focus-visible {
        box-shadow:
            0 0 3px #3e94cf,
            0 0 7px #3e94cf;
    }
}

#main-content:target {
    // Moves content down so it's not covered by the sticky header
    scroll-margin-top: $header_height_mobile + 5px;

    @include screen-eds-sm {
        scroll-margin-top: $header_height + 5px;
    }
}

.content :target {
    // Moves content down so it's not covered by the sticky header
    scroll-margin-top: $header_height_mobile + 5px;

    @include screen-eds-sm {
        scroll-margin-top: $header_height + 5px;
    }
}

.content.go-to-version :target {
    // Moves content down so it's not covered by the sticky header
    // or by go-to-version bar
    scroll-margin-top: $header_height_mobile + $view_compare_height + 37px;

    @include screen-eds-sm {
        scroll-margin-top: $header_height + $view_compare_height + 37px;
    }
}

// -------------------------
// Other Common Settings
// -------------------------

// Blue chips used for Resources selections and Policy Doc subjects
@mixin common-chip-colors {
    background: $lightest_blue;
    color: $mid_blue;
    border: 1px solid #c0eaf8;
}

@mixin common-chip-styles {
    display: inline-flex;
    align-items: center;
    font-size: 15px;
    font-weight: 600;
    border-radius: 16px;
    height: 32px;
    padding: 0 12px;

    @include common-chip-colors;
}

.login-cta__div {
    background-color: $secondary_background_color;
    border: 1px solid $border_color;
    border-radius: 0.25rem;
    font-size: var(--font-size-sm);
    padding: var(--spacer-half) var(--spacer-1);
}
